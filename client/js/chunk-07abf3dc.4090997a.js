(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07abf3dc"],{"5b9e":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{fluid:""}},[i("v-row",{staticClass:"mt-4"},[i("v-col",{attrs:{cols:"12",md:"3"}},[i("v-card",{staticClass:"pa-3"},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-switch",{attrs:{label:"Проводить заказ автоматически"},on:{change:t.changeOrderWorkerState},model:{value:t.mmogaDeamon,callback:function(e){t.mmogaDeamon=e},expression:"mmogaDeamon"}})],1),i("v-col",{attrs:{cols:"12"}},[i("span",{staticClass:"text-caption"},[t._v("Фильт по категориям")]),i("v-btn",{attrs:{large:"",text:"",disabled:!t.activeCategory},on:{click:function(e){t.activeCategory=0}}},[t._v("Сбросить")])],1),i("v-col",{attrs:{cols:"10"}},[i("v-select",{attrs:{items:t.categories,"item-value":"id","item-text":"name",outlined:"",label:"Веберите категорию"},model:{value:t.activeCategory,callback:function(e){t.activeCategory=e},expression:"activeCategory"}})],1),i("v-col",{attrs:{cols:"12"}},[i("span",{staticClass:"text-caption"},[t._v("Фильт по статусу заказа")])]),i("v-col",{attrs:{cols:"12"}},[i("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.activeStatus,callback:function(e){t.activeStatus=e},expression:"activeStatus"}},t._l(t.orderStatus,(function(e){return i("v-btn",{key:e.id,attrs:{color:"blue-grey darken-1",plain:""},on:{click:function(i){return t.getOrdersByStatus(e.status)}}},[i("v-icon",{attrs:{left:"",color:"green lighten-2"}},[t._v("mdi-cart-variant")]),t._v(" "+t._s(e.name)+" ")],1)})),1)],1)],1)],1)],1),0!==t.orders.length?i("v-col",{attrs:{cols:"12",md:"7"}},[i("v-row",t._l(t.orders,(function(e){return i("v-col",{key:e.id[0],attrs:{cols:"12"}},[i("order-component",{attrs:{order:e,accounts:t.accounts,orderWorker:t.mmogaDeamon}})],1)})),1)],1):i("v-col",{attrs:{cols:"12",md:"7"}},[i("span",{staticClass:"text-h4"},[t._v("Заказы не найдены")])])],1)],1)},o=[],a=(i("4de4"),i("d3b7"),i("d81d"),i("f5ef")),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-subheader",[i("span",{staticClass:"text-caption"},[t._v("Идентификатор заказа: "+t._s(t.order.id[0])+t._s(t.order.quantity[0]))])]),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(t.order.game[0])}}),i("v-list-item-subtitle",[t._v("Приоритет: "),i("v-chip",{attrs:{label:"","text-color":"white",color:"high"===t.order.priority[0]?"error":"primary"}},[t._v(t._s(t.order.priority[0]))])],1),i("v-list-item-subtitle",[t._v(" Статус аккаунта: "),i("span",{staticClass:"text-caption",domProps:{textContent:t._s("1"===t.order.quantity[0]?"Gold":"Silver")}})]),t.order.categoryId?i("v-list-item-subtitle",[t._v(" id категории: "),i("span",{staticClass:"text-caption",domProps:{textContent:t._s(t.order.categoryId)}})]):i("v-list-item-subtitle",{staticClass:"red--text"},[t._v(" подходящей категории не найдено ")])],1),i("v-list-item-action",[i("v-list-item-action-text",{domProps:{textContent:t._s(t.order.date[0])}}),i("span",[i("v-icon",{attrs:{color:"success"}},[t._v("mdi-cash")]),t._v(" "+t._s(t.order.unitPriceFromXML[0]))],1)],1)],1),t.orderWorker?t._e():i("v-card-actions",[i("v-select",{attrs:{items:t.accounts,"item-value":"id","item-text":function(t){return t.info.account.login+":"+t.info.account.password+", "+t.info.account.region.index+", category: "+t.category.id},outlined:"",dense:"",label:"Выберите аккаунт"},model:{value:t.accountId,callback:function(e){t.accountId=e},expression:"accountId"}}),i("v-spacer"),i("v-btn",{attrs:{outlined:"",color:"primary",disabled:!t.accountId,loading:t.executing},on:{click:t.executeOrder}},[t._v("Провести")])],1)],1)},r=[],c=i("1da1"),l=(i("96cf"),i("99af"),{name:"orderComponent",props:["order","accounts","orderWorker"],data:function(){return{accountId:null,executing:!1}},computed:{accountValue:function(){return"id: ".concat(this.accounts.id,", name: ").concat(this.accounts.info.account.username,", login: ").concat(this.accounts.info.account.login)}},methods:{executeOrder:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a["a"].$emit("setLoadingNotification","Проведение заказа"),t.executing=!t.executing,e.next=4,t.$store.dispatch("executeOrderById",{orderId:t.order.id[0],accountId:t.accountId});case 4:a["a"].$emit("killLoadingNotification"),t.executing=!t.executing,t.$store.dispatch("findAccounts");case 7:case"end":return e.stop()}}),e)})))()}}}),u=l,d=i("2877"),h=i("6544"),v=i.n(h),p=i("8336"),g=i("b0af"),f=i("99d9"),m=i("cc20"),b=i("132d"),C=i("da13"),y=i("1800"),x=i("5d23"),_=i("b974"),V=i("2fa4"),w=i("e0c7"),S=Object(d["a"])(u,s,r,!1,null,null,null),k=S.exports;v()(S,{VBtn:p["a"],VCard:g["a"],VCardActions:f["a"],VChip:m["a"],VIcon:b["a"],VListItem:C["a"],VListItemAction:y["a"],VListItemActionText:x["a"],VListItemContent:x["b"],VListItemSubtitle:x["c"],VListItemTitle:x["d"],VSelect:_["a"],VSpacer:V["a"],VSubheader:w["a"]});var O={name:"Orders",components:{orderComponent:k},data:function(){return{mmogaDeamon:!0,activeCategory:0,activeStatus:0,orderStatus:[{id:1,name:"В процессе",status:"progressing"},{id:2,name:"Новые",status:"new"}]}},computed:{orders:function(){var t=this;return 0!==this.activeCategory?this.$store.getters.getOrders.filter((function(e){return(null===e||void 0===e?void 0:e.categoryId)===t.categories[t.categories.map((function(t){return t.id})).indexOf(t.activeCategory)].id})):this.$store.getters.getOrders},categories:function(){return this.$store.getters.getCategories},accounts:function(){return this.$store.getters.getAccounts.filter((function(t){return"pending"==t.status}))}},methods:{getOrdersByStatus:function(t){this.$store.dispatch("findOrders",t)},changeOrderWorkerState:function(){this.$store.dispatch("changeStateDeamon",this.mmogaDeamon)}},mounted:function(){a["a"].$emit("setLoadingNotification","Получение данных с сервера"),this.$store.dispatch("findOrders").then((function(){return a["a"].$emit("killLoadingNotification")})),this.$store.dispatch("findCategories"),this.$store.dispatch("getStateDeamon"),this.$store.dispatch("findAccounts"),this.mmogaDeamon=this.$store.getters.getDeamonState}},$=O,D=i("5530"),I=(i("7e58"),i("604c")),j=I["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return I["a"].options.computed.classes.call(this)}},methods:{genData:I["a"].options.methods.genData}}),A=i("a9ad"),B=i("58df"),L=Object(B["a"])(j,A["a"]).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return Object(D["a"])(Object(D["a"])({},j.options.computed.classes.call(this)),{},{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var t=this.setTextColor(this.color,Object(D["a"])({},j.options.methods.genData.call(this)));return this.group?t:this.setBackgroundColor(this.backgroundColor,t)}}}),E=i("62ad"),X=i("a523"),Y=i("0fd9"),T=i("b73d"),M=Object(d["a"])($,n,o,!1,null,null,null);e["default"]=M.exports;v()(M,{VBtn:p["a"],VBtnToggle:L,VCard:g["a"],VCol:E["a"],VContainer:X["a"],VIcon:b["a"],VRow:Y["a"],VSelect:_["a"],VSwitch:T["a"]})},"7e58":function(t,e,i){},"9d01":function(t,e,i){},b73d:function(t,e,i){"use strict";var n=i("15fd"),o=i("5530"),a=(i("0481"),i("4069"),i("ec29"),i("9d01"),i("d3b7"),i("25f0"),i("4de4"),i("c37a")),s=i("5607"),r=i("2b0e"),c=r["a"].extend({name:"rippleable",directives:{ripple:s["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}}),l=i("8547"),u=i("58df");function d(t){t.preventDefault()}var h=Object(u["a"])(a["a"],c,l["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,i=this.internalValue;return this.isMultiple?!!Array.isArray(i)&&i.some((function(i){return t.valueComparator(i,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,i):Boolean(i):this.valueComparator(i,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=a["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:d},t):t},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:d},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,i=this.internalValue;if(this.isMultiple){Array.isArray(i)||(i=[]);var n=i.length;i=i.filter((function(i){return!t.valueComparator(i,e)})),i.length===n&&i.push(e)}else i=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(i,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(i,e)?null:e:!i;this.validate(!0,i),this.internalValue=i,this.hasColor=i}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}}),v=(i("159b"),i("80d2")),p=function(t){var e=t.touchstartX,i=t.touchendX,n=t.touchstartY,o=t.touchendY,a=.5,s=16;t.offsetX=i-e,t.offsetY=o-n,Math.abs(t.offsetY)<a*Math.abs(t.offsetX)&&(t.left&&i<e-s&&t.left(t),t.right&&i>e+s&&t.right(t)),Math.abs(t.offsetX)<a*Math.abs(t.offsetY)&&(t.up&&o<n-s&&t.up(t),t.down&&o>n+s&&t.down(t))};function g(t,e){var i=t.changedTouches[0];e.touchstartX=i.clientX,e.touchstartY=i.clientY,e.start&&e.start(Object.assign(t,e))}function f(t,e){var i=t.changedTouches[0];e.touchendX=i.clientX,e.touchendY=i.clientY,e.end&&e.end(Object.assign(t,e)),p(e)}function m(t,e){var i=t.changedTouches[0];e.touchmoveX=i.clientX,e.touchmoveY=i.clientY,e.move&&e.move(Object.assign(t,e))}function b(t){var e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:function(t){return g(t,e)},touchend:function(t){return f(t,e)},touchmove:function(t){return m(t,e)}}}function C(t,e,i){var n=e.value,o=n.parent?t.parentElement:t,a=n.options||{passive:!0};if(o){var s=b(e.value);o._touchHandlers=Object(o._touchHandlers),o._touchHandlers[i.context._uid]=s,Object(v["z"])(s).forEach((function(t){o.addEventListener(t,s[t],a)}))}}function y(t,e,i){var n=e.value.parent?t.parentElement:t;if(n&&n._touchHandlers){var o=n._touchHandlers[i.context._uid];Object(v["z"])(o).forEach((function(t){n.removeEventListener(t,o[t])})),delete n._touchHandlers[i.context._uid]}}var x={inserted:C,unbind:y},_=x,V=i("0789"),w=i("490a"),S=["title"];e["a"]=h.extend({name:"v-switch",directives:{Touch:_},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(o["a"])(Object(o["a"])({},a["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){var t=this.attrs$,e=(t.title,Object(n["a"])(t,S));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(o["a"])(Object(o["a"])({},this.attrs),e)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(o["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(o["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(V["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(w["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===v["y"].left&&this.isActive||t.keyCode===v["y"].right&&!this.isActive)&&this.onChange()}}})},ec29:function(t,e,i){}}]);
//# sourceMappingURL=chunk-07abf3dc.4090997a.js.map