(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0020e16c"],{"269a":function(t,e){t.exports=function(t,e){var n="function"===typeof t.exports?t.exports.extendOptions:t.options;for(var o in"function"===typeof t.exports&&(n.directives=t.exports.options.directives),n.directives=n.directives||{},e)n.directives[o]=n.directives[o]||e[o]}},"7f93":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("v-row",{attrs:{justify:"center"}},[n("v-btn",{staticClass:"ma-2",attrs:{depressed:"",color:"orange"},on:{click:function(e){return t.deleteAllAccounts()}}},[t._v("Удалить все аккаунты")]),n("v-btn",{staticClass:"ma-2",attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.deleteAccountsByStatus("pending")}}},[t._v("Удалить аккаунты со статусом pending")]),n("v-btn",{staticClass:"ma-2",attrs:{depressed:"",color:"error"},on:{click:function(e){return t.deleteAccountsByStatus("not valid")}}},[t._v("Удалить аккаунты со статусом not valid")]),n("v-btn",{staticClass:"ma-2",attrs:{depressed:"",dark:"",color:"purple"},on:{click:function(e){return t.deleteAccountsByStatus("closed")}}},[t._v("Удалить аккаунты со статусом closed")])],1)],1),n("v-col",{attrs:{cols:"12",md:"7"}},[t.accounts.length?n("v-row",t._l(t.accounts,(function(e,o){return n("v-col",{key:e.id,attrs:{cols:"12"}},[o%9==0?[n("account",{directives:[{name:"intersect",rawName:"v-intersect.once",value:t.pushMore,expression:"pushMore",modifiers:{once:!0}}],attrs:{account:e}})]:[n("account",{attrs:{account:e}})]],2)})),1):n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{md:"7",cols:"12"}},[n("span",{staticClass:"text-h2"},[t._v("Аккаунтов нет")])])],1)],1)],1)],1)},c=[],a=(n("d3b7"),n("159b"),n("4de4"),n("f5ef")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-subheader",[n("span",{staticClass:"text-caption"},[t._v("Игра: "+t._s(t.account.info.game)+", "+t._s(t.account.info.account.region.index)+" ")])]),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("Username: "+t._s(t.account.info.account.username))]),n("v-list-item-subtitle",[t._v("Статус: "),n("v-chip",{attrs:{label:"",small:"","text-color":"white",color:"pending"!==t.account.status?"closed"===t.account.status?"purple":"error":"primary"}},[t._v(t._s(t.account.status))])],1),n("v-list-item-subtitle",[t._v(" Категория: "),null===t.account.category?n("span",[t._v("не найдено")]):n("span",[t._v(t._s(t.account.category.name))])]),n("v-list-item-subtitle",[t._v(" Последний матч: "),n("span",[t._v(t._s(new Date(t.account.info.account.lastMatch).toLocaleString()))])])],1)],1),n("v-card-actions",[n("v-select",{directives:[{name:"show",rawName:"v-show",value:t.showCategories,expression:"showCategories"}],attrs:{items:t.categories,"item-value":"id","item-text":function(t){return"id: "+t.id+", name: "+t.name},dense:"",label:"Выберите категорию"},model:{value:t.categoryId,callback:function(e){t.categoryId=e},expression:"categoryId"}}),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.showCategories,expression:"showCategories"}],staticClass:"ml-4",on:{click:function(e){return t.updateAccount(t.account.id)}}},[t._v("Сохранить")]),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.showCategories,expression:"showCategories"}],staticClass:"ml-4",attrs:{outlined:"",color:"success"},on:{click:function(e){t.showCategories=!t.showCategories}}},[t._v("Отмена")]),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.showCategories&&"pending"==t.account.status,expression:"!showCategories && account.status == 'pending'"}],attrs:{outlined:"",color:"primary"},on:{click:function(e){t.showCategories=!t.showCategories}}},[t._v("Изменить категорию")]),n("v-spacer"),n("v-btn",{attrs:{outlined:"",color:"error"},on:{click:function(e){return t.deletAccount(t.account.id)}}},[t._v("Удалить")])],1)],1)},i=[],r=n("1da1"),u=(n("96cf"),{props:["account"],data:function(){return{showCategories:!1,categoryId:0}},computed:{categories:function(){return this.$store.getters.getCategories}},methods:{deletAccount:function(t){this.$store.dispatch("deleteAccount",t),a["a"].$emit("deleteAccount",t)},updateAccount:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a["a"].$emit("setLoadingNotification","Обновляю информацию"),n.next=3,e.$store.dispatch("updateAccount",{id:t,categoryId:e.categoryId});case 3:e.$store.dispatch("findAccounts"),e.showCategories=!1,a["a"].$emit("killLoadingNotification");case 6:case"end":return n.stop()}}),n)})))()}}}),l=u,d=n("2877"),f=n("6544"),v=n.n(f),p=n("8336"),h=n("b0af"),m=n("99d9"),g=n("cc20"),w=n("da13"),C=n("5d23"),$=n("b974"),_=n("2fa4"),b=n("e0c7"),A=Object(d["a"])(l,s,i,!1,null,null,null),y=A.exports;v()(A,{VBtn:p["a"],VCard:h["a"],VCardActions:m["a"],VChip:g["a"],VListItem:w["a"],VListItemContent:C["b"],VListItemSubtitle:C["c"],VListItemTitle:C["d"],VSelect:$["a"],VSpacer:_["a"],VSubheader:b["a"]});var x={name:"accounts",data:function(){return{page:1,accounts:[]}},components:{account:y},methods:{pushMore:function(t,e){var n=this;this.page=this.page+1,this.$store.getters.getAccountWithPagination(this.page).forEach((function(t){return n.accounts.push(t)}))},deleteAccountsByStatus:function(t){var e=this;a["a"].$emit("setLoadingNotification","Удаляю аккаунты...."),this.$store.dispatch("deleteAccountsByStatus",t).then((function(){a["a"].$emit("killLoadingNotification"),a["a"].$emit("setSystemNotification","Успех!"),e.accounts=[],e.page=1,e.$store.dispatch("findAccounts").then((function(){e.$store.getters.getAccountWithPagination(e.page).forEach((function(t){return e.accounts.push(t)}))}))})).catch((function(t){a["a"].$emit("killLoadingNotification"),a["a"].$emit("setSystemNotification","Произошла ошибка: ".concat(t))}))},deleteAllAccounts:function(){var t=this;a["a"].$emit("setLoadingNotification","Удаляю аккаунты...."),this.$store.dispatch("deleteAllAccounts").then((function(){a["a"].$emit("killLoadingNotification"),a["a"].$emit("setSystemNotification","Успех!"),t.accounts=[],t.page=1,t.$store.dispatch("findAccounts").then((function(){t.$store.getters.getAccountWithPagination(t.page).forEach((function(e){return t.accounts.push(e)}))}))})).catch((function(t){a["a"].$emit("killLoadingNotification"),a["a"].$emit("setSystemNotification","Произошла ошибка: ".concat(t))}))}},beforeMount:function(){var t=this;this.$store.dispatch("findAccounts").then((function(){t.$store.getters.getAccountWithPagination(t.page).forEach((function(e){return t.accounts.push(e)}))})),a["a"].$on("deleteAccount",(function(e){t.accounts=t.accounts.filter((function(t){return t.id!==e}))}))}},k=x,N=n("62ad"),V=n("a523"),S=n("0fd9"),L=n("269a"),I=n.n(L),B=n("90a2"),j=Object(d["a"])(k,o,c,!1,null,null,null);e["default"]=j.exports;v()(j,{VBtn:p["a"],VCol:N["a"],VContainer:V["a"],VRow:S["a"]}),I()(j,{Intersect:B["a"]})}}]);
//# sourceMappingURL=chunk-0020e16c.c2cac407.js.map